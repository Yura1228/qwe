<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Login & Registration</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,wght@0,200;0,300;1,200&display=swap');
* {
  margin: 0;
  padding: 0;
}
.center {
  text-align: center;
}
.mt-10 {
  margin-top: 10px;
}
.mt-20 {
  margin-top: 20px;
}
.container {
  height: 100vh;
  width: 100%;
  background: #f8f8f8;
  display: flex;
  justify-content: center;
  align-items: center;
}
#LoginAndRegistrationForm {
  width: 350px;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0px 0px 6px 0px #cdcdcd;
  padding: 15px;
  transform: scale(1);
}
#formTitle {
  text-align: center;
  padding-top: 10px;
  font-family: 'Nunito Sans', sans-serif;
  font-weight: bolder;
  letter-spacing: 1px;
  font-size: 25px;
}
#formSwitchBtn {
  display: flex;
  justify-content: center;
  padding: 20px 0;
}
#formSwitchBtn button {
  font-size: 17px;
  letter-spacing: 1px;
  font-family: 'Nunito Sans', sans-serif;
  font-weight: bolder;
  width: 160px;
  height: 40px;
  border: 0;
  cursor: pointer;
  position: relative;
  background: transparent;
  border: 1px solid #747474;
  transition: 0.4s;
  margin: 0 5px;
}
#formSwitchBtn .active {
  color: #fff;
  background: #747474;
}
.input-text {
  width: 100%;
  height: 38px;
  border: 1px solid #747474;
  box-sizing: border-box;
  padding: 5px;
  border-radius: 5px;
  font-size: 17px;
  font-family: 'Nunito Sans', sans-serif;
}
.input-text:focus {
  outline: none;
}
.forgot-pass-remember-me {
  display: flex;
  justify-content: center;
  gap: 90px;
  font-size: 14px;
  flex-wrap: wrap;
}
.forgot-pass-remember-me #ForgotPassword {
  color: #002b27;
  font-weight: bold;
  transition: 0.4s;
  text-decoration: none;
}
.forgot-pass-remember-me #ForgotPassword:hover {
  color: #008d7f;
}
.forgot-pass-remember-me input {
  height: 12px;
}
.forgot-pass-remember-me label {
  font-family: 'Nunito Sans', sans-serif;
}
.forgot-pass-remember-me a {
  text-decoration: none;
  font-family: 'Nunito Sans', sans-serif;
  font-style: italic;
}
.Submit-Btn {
  width: 100%;
  height: 42px;
  border: 0;
  border-radius: 5px;
  cursor: pointer;
  font-size: 17px;
  letter-spacing: 1px;
  font-family: 'Nunito Sans', sans-serif;
  font-weight: bolder;
  transition: 0.4s;
  background-color: #747474;
  color: #fff;
}
.Submit-Btn:hover {
  background-color: #444444;
  color: #fff;
}
.dont-have-account,
.already-have-account {
  font-family: 'Nunito Sans', sans-serif;
  letter-spacing: 0.3px;
  font-size: 14px;
  color: #747474;
}
.dont-have-account a,
.already-have-account a {
  font-family: 'Nunito Sans', sans-serif;
  font-style: italic !important;
  text-decoration: none;
  color: #002b27;
  font-weight: bold;
  transition: 0.4s;
}
.dont-have-account a:hover,
.already-have-account a:hover {
  color: #008d7f;
}
#RegistrationFrom,
#ForgotPasswordForm {
  display: none;
}
</style>
</head>
<body>
<div class="container">
  <div id="LoginAndRegistrationForm">
    <h1 id="formTitle">Вход</h1>
    <div id="formSwitchBtn">
      <button onclick="ShowLoginForm()" id="ShowLoginBtn" class="active">Вход</button>
      <button onclick="ShowRegistrationForm()" id="ShowRegistrationBtn">Регистрация</button>
    </div>
    <div id="LoginFrom">
      <form action="#" onsubmit="return LoginUser()">
        <div class="center">
          <input id="LoginEmail" class="input-text" type="text" placeholder="Email Address" required /> 
          <input id="LoginPassword" class="mt-10 input-text" type="password" placeholder="Password" required />
        </div>
        <div class="forgot-pass-remember-me mt-10">
          <div class="forgot-pass">
            <a id="ForgotPassword" href="JavaScript:void(0);" onclick="ShowForgotPasswordForm()">Забыли парол?</a>
          </div>
          <div class="remember-me">
            <input id="rememberMe" type="checkbox" />
            <label for="rememberMe">Запомни меня</label>
          </div>
        </div>
        <div class="center mt-20">
          <input class="Submit-Btn" type="submit" value="Вход" id="LoginBtn" />
        </div>
      </form>
    </div>
    <div id="RegistrationFrom">
      <form action="#" onsubmit="return RegisterUser()">
        <div class="center">
          
          <input id="RegiEmailAddres" class="input-text mt-10" type="email" placeholder="Электронный адрес" required />
          <input id="RegiPassword" class="mt-10 input-text" type="password" placeholder="Пароль" required />
          <input id="RegiConfirmPassword" class="mt-10 input-text" type="password" placeholder="Повторите пароль" required />
        </div>
        <div class="center mt-20">
          <input class="Submit-Btn" type="submit" value="Зарегистрировать" id="RegistrationitBtn" />
        </div>
      </form>
    </div>
    <div id="ForgotPasswordForm">
      <form action="#" onsubmit="return ResetPassword()">
        <div class="center mt-20">
          <input class="input-text" type="email" id="forgotPassEmail" placeholder="Email Address" required />
        </div>
        <div class="center mt-20">
          <input class="Submit-Btn" type="submit" value="Предыдущий пароль" id="PasswordResetBtn" />
        </div>
      </form>
      <p class="center mt-20 already-have-account">
        Вернемся  
        <a href="JavaScript:void(0);" onclick="ShowLoginForm()">назад</a> 
      </p>
    </div>
  </div>
</div>
<script>
  // Переключение форм
  function ShowLoginForm() {
    document.getElementById('LoginFrom').style.display = 'block';
    document.getElementById('RegistrationFrom').style.display = 'none';
    document.getElementById('ForgotPasswordForm').style.display = 'none';
    document.getElementById('formTitle').innerText = 'Вход';
    document.getElementById('ShowLoginBtn').classList.add('active');
    document.getElementById('ShowRegistrationBtn').classList.remove('active');
  }
  function ShowRegistrationForm() {
    document.getElementById('LoginFrom').style.display = 'none';
    document.getElementById('RegistrationFrom').style.display = 'block';
    document.getElementById('ForgotPasswordForm').style.display = 'none';
    document.getElementById('formTitle').innerText = 'Регистрация';
    document.getElementById('ShowLoginBtn').classList.remove('active');
    document.getElementById('ShowRegistrationBtn').classList.add('active');
  }
  function ShowForgotPasswordForm() {
    document.getElementById('LoginFrom').style.display = 'none';
    document.getElementById('RegistrationFrom').style.display = 'none';
    document.getElementById('ForgotPasswordForm').style.display = 'block';
    document.getElementById('formTitle').innerText = 'Забыли пароль';
  }

  // Регистрация
  function RegisterUser() {
    event.preventDefault();
    const name = document.getElementById('RegiName').value.trim();
    const email = document.getElementById('RegiEmailAddres').value.trim();
    const password = document.getElementById('RegiPassword').value;
    const confirmPassword = document.getElementById('RegiConfirmPassword').value;

    if (password !== confirmPassword) {
      alert('Пароли не совпадают');
      return false;
    }

    const users = JSON.parse(localStorage.getItem('users') || '{}');

    // Проверка уникальности email
    for (let key in users) {
      if (users[key].email === email) {
        alert('Такой email уже зарегистрирован');
        return false;
      }
    }

    // Создаем уникальный ключ для пользователя
    users[name] = { email: email, password: password };
    localStorage.setItem('users', JSON.stringify(users));
    alert('Регистрация успешна! Войдите в систему.');
    ShowLoginForm();
    return false;
  }

  // Вход
  function LoginUser() {
    event.preventDefault();
    const email = document.getElementById('LoginEmail').value.trim();
    const password = document.getElementById('LoginPassword').value;

    const users = JSON.parse(localStorage.getItem('users') || '{}');

    for (let user in users) {
      if (users[user].email === email && users[user].password === password) {
        alert('Успешный вход! Добро пожаловать, ' + user);
        // Здесь можно сохранить сессию или перейти на другую страницу
        window.location.href = 'index1.html'; // замените на нужный вам URL
        return false;
      }
    }
    alert('Неверный email или пароль');
    return false;
  }

  // Восстановление пароля (просто пример)
  function ResetPassword() {
    event.preventDefault();
    const email = document.getElementById('forgotPassEmail').value.trim();
    const users = JSON.parse(localStorage.getItem('users') || '{}');
    for (let user in users) {
      if (users[user].email === email) {
        alert('Пароль для ' + email + ': ' + users[user].password);
        ShowLoginForm();
        return false;
      }
    }
    alert('Email не найден');
    return false;
  }
</script>
</body>
</html>